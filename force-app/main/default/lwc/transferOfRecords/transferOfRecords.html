<template>
    <lightning-card>
        <div class="slds-align_absolute-center">
<lightning-progress-indicator current-step={currentStep} 
                              type="base" 
                              variant="base"
                              style="width:50%">
    <lightning-progress-step label="Selecting users" value="1" onclick={handleOnStepClick}></lightning-progress-step>
    <lightning-progress-step label="Selecting record types" value="2" onclick={handleOnStepClick}></lightning-progress-step>
    <lightning-progress-step label="Final" value="3" onclick={handleOnStepClick}></lightning-progress-step>
</lightning-progress-indicator>
</div>
<template if:true={isStepOne}>
    <div style="height:4.8em"></div>
        <div class="slds-grid slds-wrap slds-align_absolute-center slds-size_xxx-large" >
            <div class="slds-size_1-of-6"> 
                <c-lwc-lookup 
                lookup-label="From User" 
                object-api-name="user" 
                icon-name="standard:user"  
                onrecordselection={onFromUserSelection}>
                </c-lwc-lookup>
            </div>
            <div class="slds-size_xx-small"></div>
            <div class="slds-size_1-of-6">  
                <c-lwc-lookup 
                lookup-label="To User" 
                object-api-name="user" 
                icon-name="standard:user"  
                onrecordselection={onToUserSelection}>
                </c-lwc-lookup>
            </div>
    </div>

 <div style="height:32em"></div>
</template>

<div class="slds-card__body slds-p-around_medium">
<template if:true={isStepTwo}>
    <div class="slds-align_absolute-center">
    <lightning-dual-listbox 
                            class="slds-size_1-of-3"
                            name="Records"
                            label="Object Records to Reassign"
                            source-label="Available"
                            selected-label="Selected"
                            options={options}
                            value={values}
                            onchange={handleChange}> 
    </lightning-dual-listbox>
    </div>
    <div style="height:5rem">
    </div>
    <div style="height:6.5rem">
    </div>
</template>
</div>

<template if:true={isStepThree}>
    <div class="slds-align_absolute-center slds-text-heading_large"
         style="margin-top:4rem;">Pre result:</div>
        <div class="slds-align_absolute-center slds-box slds-theme_shade slds-region_narrow " 
             style="width:520px; height:10rem; margin-top:2rem; margin-bottom:6rem">
        <dl class="slds-list_horizontal slds-wrap" >
          <dt class="slds-dl_horizontal__label">From User:</dt>
          <dd class="slds-dl_horizontal__detail"><strong>{fromUserName}</strong>, ({fromUserId})</dd>
          <dt class="slds-dl_horizontal__label"></dt>
          <dd class="slds-dl_horizontal__detail"></dd>
          <dt class="slds-dl_horizontal__label">To User:</dt>
          <dd class="slds-dl_horizontal__detail"><strong>{toUserName}</strong>, ({toUserId}) </dd>
            <div style="margin-top:2rem;">
                <dt class="slds-dl_horizontal__label" style="width:150px"> This type of records will be reassigned: </dt>
                <dd class="slds-dl_horizontal__detail" style="width:150px" ><strong>{_selected}</strong></dd>
            </div>
        </dl>
      </div>
</template>
 
<div align ="center">
<template if:true={isEnablePrev}>
    <lightning-button label="Back" 
                      variant="destructive-text" 
                      class="slds-m-left_x-small"
                      onclick={handlePrev} ></lightning-button>
</template>
<template if:true={isEnableNext}>
    <lightning-button label="Next" 
                      class="slds-m-left_x-small"
                      variant="brand-outline" 
                      onclick={handleNext} ></lightning-button>
</template>
<template if:true={isEnableFinish}>
    <lightning-button label="Finish" 
                      variant="brand-outline"
                      class="slds-m-left_x-small"
                      onclick={handleFinish} ></lightning-button>
</template>
</div>
    </lightning-card>
</template>
